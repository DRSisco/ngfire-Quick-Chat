<div class="post" fxLayout fxLayoutAlign="none center">
  <img *ngIf="post.author.photoURL as photoUrl;else missingPhotoTemplate" [src]="photoUrl" alt="Profile photo">
  <template #missingPhotoTemplate>-->
    <img src="assets/images/missing_photo.png" alt="Photo missing">
  </template>
  <div fxFlex fxLayout="column">
    <div fxFlex class="author-name">{{post.author.displayName}}</div>
    <div *ngIf="editingMode != 2;else editPostTemplate" fxFlex class="post-body">{{post.postBody}}</div>
    <ng-template #editPostTemplate>
      <form (ngSubmit)="saveEdit()">
        <md-input-container fxFlex dividerColor="accent">
          <input mdInput type="text" placeholder="Edit your post" [(ngModel)]="updatedPostBody" name="updatedPostBody">
        </md-input-container>
      </form>
    </ng-template>
  </div>
  <div *ngIf="editingMode == 1" >
    <button md-icon-button (click)="editPost()">
      <md-icon>edit</md-icon>
    </button>
    <button md-icon-button (click)="removePost()">
      <md-icon>delete</md-icon>
    </button>
  </div>
  <div *ngIf="editingMode == 2" >
    <button md-icon-button (click)="saveEdit()">
      <md-icon>save</md-icon>
    </button>
    <button md-icon-button (click)="cancelEdit()">
      <md-icon>cancel</md-icon>
    </button>
  </div>
</div>